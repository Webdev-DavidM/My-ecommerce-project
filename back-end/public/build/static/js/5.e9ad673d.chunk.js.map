{"version":3,"sources":["Pages/Product.module.css","Components/UIelements/ProductImageCarousel.module.css","Components/UIelements/Reviews.module.css","Components/UIelements/ProductImageCarousel.js","Components/UIelements/Reviews.js","Pages/Product.js"],"names":["module","exports","ProductImageCarousel","state","productId","selectedImage","moveImageByArrow","direction","setState","prevState","props","product","images","length","moveImagesByDot","index","this","imageButtons","map","image","className","styles","dot","onClick","style","backgroundColor","imageGallery","border","src","alt","slideshowcontainer","myslides","fade","disabled","prev","next","textAlign","query","render","imagegallery","Component","withRouter","connect","products","selectedProduct","Reviews","showReviews","averageReviewRating","stars","componentDidMount","reviews","console","log","averageRating","reduce","a","b","rating","reviewcontainer","star","colour","color","icon","faStar","CSSTransition","in","timeout","classNames","unmountOnExit","review","reviewdivider","firstName","comment","Product","size","showBasketModal","dropdownSelected","quantity","error","selectSize","e","target","value","selectQuantity","operator","addToBasket","addProductToBasket","price","_id","name","qtyOfSizeInStock","id","componentDidUpdate","newProps","location","pathname","match","url","getProductFromServer","history","split","params","componentWillUnmount","clearProduct","dropdown","sizeKeys","Object","keys","key","basketmodal","basket","continueshoppingbtn","checkoutbtn","textDecoration","to","gobackbtn","goBack","productinfo","column1","sizecontainer","qtybtn1","onChange","quantityinput","type","qtybtn2","stock","addtocartbtn","width","height","column2","description","dispatch","itemInfo","getProduct","clearSelectedProduct"],"mappings":"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","file":"static/js/5.e9ad673d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"product\":\"Product_product__Pic6D\",\"title\":\"Product_title__2Vhmj\",\"price\":\"Product_price__pibV3\",\"basketmodal\":\"Product_basketmodal__L9uv6\",\"basket\":\"Product_basket__3PI_-\",\"error\":\"Product_error__37_GV\",\"productinfo\":\"Product_productinfo__3vfDt\",\"continueshoppingbtn\":\"Product_continueshoppingbtn__1GdCm\",\"checkoutbtn\":\"Product_checkoutbtn__2axGv\",\"sizecontainer\":\"Product_sizecontainer__3mrmO\",\"qtybtn1\":\"Product_qtybtn1__2mBnT\",\"qtybtn2\":\"Product_qtybtn2__2Q_FQ\",\"gobackbtn\":\"Product_gobackbtn__leJnS\",\"qtybtn\":\"Product_qtybtn__1guil\",\"quantityinput\":\"Product_quantityinput__3EkPH\",\"addtocartbtn\":\"Product_addtocartbtn__3MjGk\",\"column2\":\"Product_column2__3W6fM\",\"column1\":\"Product_column1__23wUu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"next\":\"ProductImageCarousel_next__1IO8X\",\"myslides\":\"ProductImageCarousel_myslides__31_Lb\",\"slideshowcontainer\":\"ProductImageCarousel_slideshowcontainer__3ZdOu\",\"prev\":\"ProductImageCarousel_prev__ph80r\",\"dot\":\"ProductImageCarousel_dot__3Wn3r\",\"active\":\"ProductImageCarousel_active__8fR8P\",\"imagegallery\":\"ProductImageCarousel_imagegallery__wkSu4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reviewcontainer\":\"Reviews_reviewcontainer__2hUWQ\",\"reviewdivider\":\"Reviews_reviewdivider__3p2YE\"};","/* NPM packages */\nimport React, { Component } from 'react';\nimport Media from 'react-media';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\n/* CSS */\n\nimport styles from './ProductImageCarousel.module.css';\n\nclass ProductImageCarousel extends Component {\n  state = {\n    productId: '',\n    selectedImage: 0,\n  };\n\n  moveImageByArrow = (direction) => {\n    if (direction === 'left' && this.state.selectedImage !== 0) {\n      return this.setState((prevState) => ({\n        selectedImage: prevState.selectedImage - 1,\n      }));\n    } else if (\n      direction === 'right' &&\n      this.state.selectedImage !== this.props.product.images.length - 1\n    ) {\n      return this.setState((prevState) => ({\n        selectedImage: prevState.selectedImage + 1,\n      }));\n    }\n  };\n\n  moveImagesByDot = (index) => {\n    this.setState((prevState) => ({\n      selectedImage: index,\n    }));\n  };\n\n  render() {\n    let { images } = this.props.product;\n\n    let imageButtons = images.map((image, index) => (\n      <span\n        key={index}\n        className={styles.dot}\n        onClick={() => this.moveImagesByDot(index)}\n        style={\n          index === this.state.selectedImage\n            ? { backgroundColor: '#f1c40f' }\n            : null\n        }></span>\n    ));\n\n    let imageGallery = images.map((image, index) => (\n      <span\n        key={index}\n        onClick={() => this.moveImagesByDot(index)}\n        style={\n          index === this.state.selectedImage\n            ? { border: '3px solid #f1c40f' }\n            : null\n        }>\n        <img\n          src={`https://my-ecommerce-site-fitness.herokuapp.com/${image}`}\n          alt={'hello'}></img>\n      </span>\n    ));\n\n    return (\n      <>\n        <div className={styles.slideshowcontainer}>\n          <div className={`${styles.myslides} ${styles.fade}`}>\n            <button\n              disabled={this.state.selectedImage === 0}\n              className={styles.prev}\n              onClick={() => this.moveImageByArrow('left')}>\n              <i className='fas fa-angle-left'></i>\n            </button>\n            <img\n              src={`https://my-ecommerce-site-fitness.herokuapp.com/${\n                images[this.state.selectedImage]\n              }`}\n              alt={'hello'}></img>\n            <button\n              className={styles.next}\n              onClick={() => this.moveImageByArrow('right')}>\n              <i className='fas fa-angle-right'></i>\n            </button>\n          </div>\n        </div>\n        <br></br>\n        <div style={{ textAlign: 'center' }}>\n          {' '}\n          <i className='fas fa-angle-left'></i> &nbsp;\n          {this.state.selectedImage + 1} &nbsp; / &nbsp; {images.length} &nbsp;\n          <i className='fas fa-angle-right'></i>\n        </div>\n        <Media\n          query={'(max-width: 768px)'}\n          render={() => (\n            <div style={{ textAlign: 'center' }}>{imageButtons}</div>\n          )}\n        />\n        <Media\n          query={'(min-width: 768px)'}\n          render={() => (\n            <div\n              className={styles.imagegallery}\n              style={{ textAlign: 'center' }}>\n              {imageGallery}\n            </div>\n          )}\n        />\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    product: state.products.selectedProduct,\n  };\n};\n\nexport default withRouter(connect(mapStateToProps)(ProductImageCarousel));\n","/* NPM packages */\n\nimport React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { CSSTransition } from 'react-transition-group';\nimport { faStar } from '@fortawesome/free-solid-svg-icons';\n\n/* CSS */\n\nimport styles from './Reviews.module.css';\n\nclass Reviews extends Component {\n  state = {\n    showReviews: false,\n    averageReviewRating: null,\n    stars: [1, 2, 3, 4, 5],\n  };\n\n  componentDidMount = () => {\n    let { reviews } = this.props;\n    console.log(reviews);\n\n    let averageRating =\n      reviews.length > 0\n        ? reviews.reduce((a, b) => {\n            return a + b.rating;\n          }, 0) / reviews.length\n        : 0;\n    console.log(averageRating);\n    this.setState({ averageReviewRating: averageRating });\n  };\n\n  render() {\n    console.log(this.props);\n    let { reviews, rating } = this.props;\n    console.log(reviews, rating);\n\n    return (\n      <div\n        className={styles.reviewcontainer}\n        onClick={() =>\n          this.setState((prevState) => ({\n            showReviews: !prevState.showReviews,\n          }))\n        }>\n        {this.state.averageReviewRating &&\n          this.state.stars.map((star, index) => {\n            console.log(star);\n            let colour =\n              star <= this.state.averageReviewRating ? '#f1c40f' : null;\n            return (\n              <span key={index} style={{ color: `${colour}` }}>\n                <FontAwesomeIcon icon={faStar} />\n              </span>\n            );\n          })}\n        &nbsp; ({reviews.length})<span>&nbsp;Click for review details</span>\n        {reviews.length === 0 && (\n          <span>(0) Be the first to review this product</span>\n        )}\n        <CSSTransition\n          in={this.state.showReviews}\n          timeout={400}\n          classNames='reviews'\n          unmountOnExit>\n          <div>\n            {reviews.map((review, index) => {\n              let stars = this.state.stars.map((star, index) => {\n                let colour = star <= review.rating ? '#f1c40f' : null;\n                return (\n                  <span key={index} style={{ color: `${colour}` }}>\n                    <FontAwesomeIcon icon={faStar} />\n                  </span>\n                );\n              });\n              return (\n                <div>\n                  <hr className={styles.reviewdivider} />\n                  {stars} by {review.firstName}\n                  <br />\n                  {review.comment}\n                </div>\n              );\n            })}\n          </div>\n        </CSSTransition>\n      </div>\n    );\n  }\n}\n\nexport default Reviews;\n","/* NPM packages */\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\n/* css */\n\nimport styles from './Product.module.css';\n\n/* Components */\n\nimport ProductImageCarousel from '../Components/UIelements/ProductImageCarousel';\nimport Reviews from '../Components/UIelements/Reviews';\n\n/* Action creators */\n\nimport {\n  addToBasket,\n  getProduct,\n  clearSelectedProduct,\n} from '../Actions/products';\n\nclass Product extends Component {\n  state = {\n    size: '',\n    showBasketModal: false,\n    dropdownSelected: false,\n    quantity: 0,\n    error: '',\n  };\n\n  selectSize = (e) => {\n    this.setState({ size: e.target.value, error: '' });\n  };\n\n  selectQuantity = (operator) => {\n    let { product } = this.props;\n    if (this.state.size === '') {\n      return this.setState({ error: 'Please select a size first' });\n    }\n    if (operator === '-') {\n      if (this.state.quantity !== 0) {\n        this.setState((prevState) => ({\n          quantity: prevState.quantity - 1,\n          error: '',\n        }));\n      }\n    }\n    if (operator === '+' && this.state.size !== 0) {\n      if (this.state.quantity < product.size[0][this.state.size]) {\n        this.setState((prevState) => ({\n          quantity: prevState.quantity + 1,\n        }));\n      } else {\n        this.setState({\n          error: `Maximum quantity in ${this.state.size} selected`,\n        });\n      }\n    }\n  };\n\n  addToBasket = () => {\n    /* Destructuring action creators */\n    let { addProductToBasket } = this.props;\n\n    /* Destructuring state from redux */\n    let { images, price, _id, name } = this.props.product;\n\n    if (this.state.size !== '' && this.state.quantity !== 0) {\n      let itemInfo = {\n        size: this.state.size,\n        qtyOfSizeInStock: this.props.product.size[0][this.state.size],\n        quantity: this.state.quantity,\n        name: name,\n        id: _id,\n        price: price,\n        images: images,\n      };\n      addProductToBasket(itemInfo);\n      this.setState({ showBasketModal: true });\n    } else {\n      this.setState({ error: 'Please select a size and quantity' });\n    }\n  };\n\n  componentDidUpdate = (newProps) => {\n    // i have used component did mount because if the user searches for a product and clicks on it and the screen is\n    // already on a product, the router will not re render, to make this happen I am using this lifecycle method to\n    // check if the product id has changed and if so get the new product\n    if (newProps.location.pathname !== this.props.match.url) {\n      let { getProductFromServer } = this.props;\n      let id = newProps.history.location.pathname.split('/')[2];\n      getProductFromServer(id);\n    }\n  };\n\n  componentDidMount = () => {\n    let { getProductFromServer } = this.props;\n    let { id } = this.props.match.params;\n    getProductFromServer(id);\n  };\n\n  componentWillUnmount = () => {\n    this.props.clearProduct();\n  };\n\n  render() {\n    let { product } = this.props;\n\n    let { showBasketModal } = this.state;\n\n    let dropdown = null;\n\n    if (product.length !== 0) {\n      let sizeKeys = Object.keys(product.size[0]);\n      dropdown = (\n        <>\n          {sizeKeys.map((key, index) => (\n            <option\n              key={index}\n              value={key}\n              disabled={product.size[0][key] === 0}\n              onClick={(e) => this.selectSize(e)}>\n              {key}\n              &nbsp;&nbsp;&nbsp;&nbsp;\n              {product.size[0][key]} in stock\n            </option>\n          ))}\n        </>\n      );\n    }\n\n    return (\n      <>\n        {product ? (\n          <div className={styles.product}>\n            {showBasketModal && (\n              <div className={styles.basketmodal}>\n                <div className={styles.basket}>\n                  <h2>\n                    {' '}\n                    <i className='fas fa-check'></i>\n                    &nbsp;Added to cart{' '}\n                  </h2>\n                  <button\n                    onClick={() => this.setState({ showBasketModal: false })}\n                    className={styles.continueshoppingbtn}>\n                    Continue shopping\n                  </button>\n                  <Link\n                    className={styles.checkoutbtn}\n                    style={{ textDecoration: 'none', color: 'white' }}\n                    to={'/shopping-basket'}>\n                    Checkout now\n                  </Link>\n                </div>\n              </div>\n            )}\n            <p className='{styles.title}'></p>\n            {product.length !== 0 && product.reviews.length !== 0 ? (\n              <Reviews reviews={product.reviews} />\n            ) : null}\n            <h2>\n              <span\n                className={styles.gobackbtn}\n                onClick={() => this.props.history.goBack()}>\n                Go back\n              </span>\n            </h2>\n            <hr></hr>\n            {product.length !== 0 && (\n              <ProductImageCarousel images={product.images} />\n            )}\n            <div className={styles.productinfo}>\n              <div className={styles.column1}>\n                {' '}\n                <p className={styles.price}>£{product.price}</p>\n                {product.colour && <p>colour: {product.colour}</p>}\n                <div>{product.name}</div>\n                <div className={styles.sizecontainer}>\n                  <form\n                    onClick={() =>\n                      this.setState((prevState) => ({\n                        dropdownSelected: !prevState.dropdownSelected,\n                      }))\n                    }>\n                    {this.state.size !== '' ? (\n                      <span>{this.state.size}</span>\n                    ) : (\n                      <span>Please select</span>\n                    )}{' '}\n                    {!this.state.dropdownSelected && (\n                      <span>\n                        <i className='fas fa-arrow-down'></i>\n                      </span>\n                    )}\n                    {this.state.dropdownSelected && dropdown}\n                  </form>\n                </div>\n                <br></br>\n                <div className={styles.quantity}>\n                  <form>Quantity:</form>\n                  <button\n                    className={styles.qtybtn1}\n                    onClick={() => this.selectQuantity('-')}>\n                    -\n                  </button>\n                  <input\n                    onChange={(e) =>\n                      this.setState({ quantity: e.target.value })\n                    }\n                    value={this.state.quantity}\n                    className={styles.quantityinput}\n                    type='input'></input>\n                  <button\n                    className={styles.qtybtn2}\n                    onClick={() => this.selectQuantity('+')}>\n                    +\n                  </button>\n                  <br />\n                  <br />\n                  {product.stock !== 0 ? (\n                    <span style={{ color: 'red' }}>\n                      Hurry only {product.stock} left in stock\n                    </span>\n                  ) : (\n                    <span style={{ color: 'red' }}>Sorry out of stock</span>\n                  )}\n                </div>\n                <button\n                  onClick={() => this.addToBasket()}\n                  className={styles.addtocartbtn}>\n                  {' '}\n                  <i\n                    className='fas fa-shopping-cart'\n                    style={{ width: '1rem', height: '1rem' }}>\n                    {' '}\n                  </i>\n                  &nbsp; &nbsp;Add to Basket\n                </button>\n                {this.state.error && (\n                  <div className={styles.error}>{this.state.error}</div>\n                )}\n              </div>\n              <div className={styles.column2}>\n                <h3>{product.description}</h3>\n              </div>\n            </div>\n          </div>\n        ) : null}\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return { product: state.products.selectedProduct };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addProductToBasket: (itemInfo) => dispatch(addToBasket(itemInfo)),\n    getProductFromServer: (id) => dispatch(getProduct(id)),\n    clearProduct: () => dispatch(dispatch(clearSelectedProduct())),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Product);\n"],"sourceRoot":""}